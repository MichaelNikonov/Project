package server.main;

import java.awt.image.BufferedImage;
import java.io.File;
import java.io.IOException;
import java.util.ArrayList;
import java.util.Date;

import javax.imageio.ImageIO;
import javax.swing.JFrame;

import server.database.Database;
import server.gui.JImageBox;
import sgi.entities.*;


public class ServerMain {

	/**
	 * @param args
	 */
	public static void main(String[] args) {
		Database db = new Database("localhost","sgi","root","root");
		JFrame temp = new JFrame("TEST");
		ArrayList<SGIImage> images = db.getImages();
		
		if (images==null)
			System.out.println("\"no images!\"");
		else {
			SGIImage i = images.get(1);
			ArrayList<Layer> layers = db.getImageLayers(i.getId());
			BufferedImage ol = null;
			try {
				ol = ImageIO.read(new File("layers\\1.png"));
			} catch (IOException e) {
				// TODO Auto-generated catch block
				System.out.println("AAAAAAAAAAAA");
				e.printStackTrace();
			}
			i.setImage("images\\" + i.getId() + ".jpg");
			JImageBox t = new JImageBox(i.getImage());
			t.addOverlay(ol);
			try {
				ol = ImageIO.read(new File("layers\\2.png"));
			} catch (IOException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
			t.addOverlay(ol);
			
			temp.add(t);
			t.setStretch(true);
			temp.pack();
			temp.setVisible(true);
		}
	}

}
