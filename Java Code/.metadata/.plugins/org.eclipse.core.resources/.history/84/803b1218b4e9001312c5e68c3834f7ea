package server.main;

import java.awt.image.BufferedImage;
import java.io.File;
import java.io.IOException;
import java.util.ArrayList;
import java.util.Date;

import javax.imageio.ImageIO;
import javax.swing.JFrame;

import server.database.Database;
import server.gui.JImageBox;
import sgi.entities.*;


public class ServerMain {

	/**
	 * @param args
	 */
	public static void main(String[] args) {
		Database db = new Database("localhost","sgi","root","root");
		JFrame temp = new JFrame("TEST");
		ArrayList<SGIImage> images = db.getImages();
		
		if (images==null)
			System.out.println("\"no images!\"");
		else {
			SGIImage i = images.get(0);
			ArrayList<Layer> layers = db.getImageLayers(i.getId());
			JImageBox t = new JImageBox(i.getImage());
			if (!layers.isEmpty()) {
				for (int j=0;j<layers.size();j++) {
					t.addOverlay(layers.get(j).getLayerImage());
				}
			}
			temp.add(t);
			t.setStretch(true);
			temp.pack();
			temp.setVisible(true);
		}
	}

}
