package Server;

import java.sql.*;

public final class Database {

	private Connection _conn;
	
	private PreparedStatement 
		_getUser, 
		_getClientById, _getClientByUsername, _getClientByName,
		_getEmployeeById, _getEmployeeByUsername, _getEmployeeByPosition, 
		_getLocations, _getImages, _getComplaints, 
		_getClientPurchases, _getClientSearchHistory;
	
	public Database(String sqlHost, String sqlDatabase, String sqlUser, String sqlPassword) {
		try {
			// Create main connection object
			_conn = DriverManager.getConnection(
					"jdbc:mysql://" + sqlHost + "/" + sqlDatabase,
					sqlUser, sqlPassword);
			
			// Create prepared statements
			_getUser = _conn.prepareStatement(
					"SELECT * FROM users " +
					"WHERE username = ? AND password = ?");
			
			_getClientById = _conn.prepareStatement(
					"SELECT * FROM clients " +
					"WHERE id=?");
			
			
		} catch (SQLException e) {
			_conn = null;
			// handle error
		}
	}
	
}
