package Server;

import java.awt.*;
import javax.swing.*;
import javax.swing.text.*;

public class TextField extends JPanel {

	private JFormattedTextField _inputFormatted = null;
	private JTextField _input = null;
	private JLabel _description = null;
	
	/**
	 * TextField
	 * @param desc
	 * @param value
	 * @param format
	 */
	public TextField(String desc, String value, String format) {
		this.setLayout(new FlowLayout());
		_description = new JLabel(desc);
		this.add(_description);
		if (format.length()==0) {
			_inputFormatted = new JFormattedTextField(createFormat(format));
			_inputFormatted.setText(value);
			this.add(_inputFormatted);
		} else {
			_input = new JTextField(value);
			this.add(_input);
		}
	}
	
	/**
	 * createFormat
	 * @param String format
	 * @return a mask formatter for JFormattedTextField
	 */
	private MaskFormatter createFormat(String format) {
		MaskFormatter formatter = null;
		try {
			formatter = new MaskFormatter(format); 
		} catch (java.text.ParseException e) {
			// Bad format
		}
		return formatter;
	}
	
	public String getValue() {
		return (_input!=null ? _input.getText() : _inputFormatted.getText());
	}
	
	public void setValue(String value) {
		if (_input!=null) _input.setText(value) else _inputFormatted.setText(value);
	}
	
}
